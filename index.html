<!DOCTYPE html>
<head>
<meta charset="utf-8" />

<!-- Set the viewport width to device width for mobile -->
<meta name="viewport" content="width=device-width" />
<title>Zacks</title>
</head>
<body>
<table id="stocks">
  <tr>
    <td>
      Symbol
    </td>
    <td>
      Zacks Rank
    </td>    
  </tr>  
</table>

<script>

async function getZacksData(symbols) {
  let response = await fetch(`https://quote-feed.zacks.com/index.php?t=${symbols.join(',')}`);
  let data = await response.json();
  return data;
};
  
 
async function fillTable(set) {
  let table = document.getElementById("stocks");  
  let data = await getZacksData(set);
  
  symbols.forEach(symbol => {
    let newRow = table.insertRow();
    let symbolRow = newRow.insertCell(0);
    let zacksRow = newRow.insertCell(1);  
    symbolRow.innerHTML = `<a href="https://www.zacks.com/stock/quote/${symbol}">${symbol}</a>`;
    if(data[symbol].hasOwnProperty('zacks_rank') && data[symbol].zacks_rank.length > 0) {
      zacksRow.innerHTML = data[symbol].zacks_rank + " - " + data[symbol].zacks_rank_text;
    } else {
      zacksRow.innerHTML = "N/A";
    }
  });
};  
  
let symbols = {
  'A': ['SHLM','ACMR','ADAM','AAII','AAON','ABAX','AANB','ABBC','ABMD','AXAS','ABII','ACTG','ACAD','ACCL','CIDM','ANCX','AUSA','ARAY','ACGY','ACHN','ACIW','APKT','ACOR','ACTL','ACTS','ACPW','ACTI','ATVI','ACTU','ACUR','ACXM','ADES','ADGF','ADPT','ADCT','AEY','ADBE','ADLR','ADTN','AATI','ABAT','AEIS','ADVNB','ADVNA','AVCA','AEHR','AEPI','AVAV','AEZS','AFFM','AFFY','AFFX','ATAC','FEED','AGYS','AIRM','AIRT','ATSG','AMCN','AIRN','AIRV','AIXG','AKAM','AKNS','AKRX','TRMD','ALDN','ALSK','AMRI','ALDA','ALXN','ALXA','ACEL','ALCO','ALGN','ALKS','ALGT','ABVA','AFOP','ALNC','AHGP','ARLP','AHPI','AHCI','AMOT','ALLI','ALTH','ALLT','ALOY','MDRX','AFAM','ALNY','ATEC','ALTI','ALTR','AIMC','ALTU','AMAG','AMRN','AMZN','EPAX','AMIE','AMFI','AMED','UHAL','ATAX','AMOV','ASGR','ABNJ','AGNC','ACAS','AMCE','ACBA','ACLI','ADPI','ECOL','AETI','AMIC','AMIN','AIPC','AMAC','AMMD','AMNB','ANAT','APFC','ACAP','AMPH','APEI','ARII','AMRB','ASEI','AMSWA','AMSC','ATCO','AMWD','CRMT','ARGN','ABCB','AMSF','ASRV','ASRVP','ASCA','AMTC','AMTY','ATLO','AMGN','AMCS','FOLD','AMKR','AMPL','AMSG','ASYS','AFSI','AMLN','ANAD','ANDS','ALOG','ANLY','ANEN','ABCW','ANGN','ANGO','ANPI','ANIK','AHII','ANNB','ANSW','ANSS','AGEN','APAC','APOG','APOL','AAPL','ARCI','AERG','AMAT','AMCC','APSG','AREX','ARSD','ARBX','ARCW','ABIO','ACGL','ACAT','RDEA','ARDNA','ARNA','STST','AGII','ARIA','ARBA','RAMS','ARKR','ABFS','ARMH','ARTX','ARQL','ARRY','ARRS','AROW','ARWR','ARTG','ARTNA','ARTW','ASCMA','ASTIZ','ASIA','ASMI','ASML','ASPM','APPY','AACC','ASFI','ATEA','ASTE','ALOT','ATRO','ATAI','ATHN','ATHR','ATHX','AAME','ATBC','ACFC','ASFN','ATNI','AAWW','ATLS','ATML','ATMI','ATPG','ATRC','ATRI','ATSI','AUBN','AUDC','VOXX','AUTH','ABTL','ADSK','ADP','AVRX','AVNX','AVTR','AVII','AVID','AVGN','AVZA','AVCT','AWRE','ACLS','AXYS','AXTI'],
  'B': ['BOSC','BIDU','BKRS','BCPC','BWINA','BWINB','BLDPD','BLDP','BANF','BARI','BOFL','BTFG','BKMU','BOCH','GRAN','BMRC','BKSC','BOVA','OZRK','BBXT','BFIN','RATE','BKUNA','BANR','BARE','BBSI','BWTR','BSET','MSDXP','BCBP','BCSB','BEAV','BFNB','BFED','BCON','BECN','BBGI','BEBE','BBBY','BELFA','BELFB','BNCL','BNHNA','BNHN','BFBC','BERK','BHLB','BGCP','BIDZ','BGFV','BBND','BITI','BASI','BCRX','BIOD','BDSI','BFRM','BIOF','BIIB','BLTI','BMRN','BMTI','BPUR','BPAX','BIOS','BSMD','BDMS','BITS','BJRI','BBOX','BLKB','BBBB','BKCC','BCSI','BDCO','NILE','BFLY','BJGP','BNCN','BOBE','BOFI','BOKF','BOLT','BNSO','BKHM','BORL','BPFH','EPAY','BBEP','BDGE','BLSW','BRID','BEXP','CELL','BKBK','BPSG','BVSN','BYFC','BWEN','BRCD','BRNC','BRKL','BFSB','BRKS','BRKR','BMTC','BSQR','BUCY','BWLD','BLDR'],
  'C': ['CHRW','CA','CCMP','CDNS','CADE','CADX','CDZI','CALM','CLMS','CAMP','CVGW','CALC','CFNB','CAMD','CPKI','CALP','CALD','CALL','CLMT','CAFI','CAC','CAMT','CSIQ','CLZR','CPHC','CAPE','CPLA','CBKN','CCBG','CCPCN','CPLP','CSWC','CFFN','CPST','CSAR','CSCX','CRDC','CFNL','CDIC','BEAT','CSII','CATM','CECO','CBOU','CKEC','CLBH','CART','CRZO','CRRB','TAST','CARV','CASM','CACB','CASB','CSCD','CWST','CASY','CASS','CPHL','CMRG','CHSI','CPRX','CATT','CATY','CVCO','CAVM','CBEY','CBRL','CHINA','CFK','CECE','CLDN','CRA','CELG','CEGE','CTIC','CLDX','CLSN','CYCL','CNBC','CLFC','CSFL','CEBK','CEDC','CETV','CFBK','CENTA','CENT','CJBK','CVCY','CVBK','TRUE','CENX','CNBKA','CNTY','CEPH','CPHD','CRDN','CRNT','CERN','CERS','CEVA','CFFI','CITZ','CHMP','CYOU','CACAU','CACA','CTHR','SCHW','CHRS','GTLS','CHTR','CHRTR','CHRT','CHTT','CHKP','CHTP','CXSP','CHFC','CHKE','CHEV','CBNK','CAEI','CAAS','CBAK','CABL','CABLU','CDS','CDII','JRJC','CFSG','GRRF','CPBY','CIIC','CHIO','CMED','CHNR','CPSL','CSKI','CSUN','CNTF','CTDC','CTFO','CHBT','CASTU','CEDU','CHDX','IMOS','CHRD','CHDN','CIEN','CINF','CTAS','CRUS','CSCO','CTRN','PLJC','CZNC','CZWI','CZFC','CTZN','CIZN','CRBC','CSBC','CTXS','CTBK','CHCO','CTEL','CKXE','CLRT','CWEI','CLNE','CLFD','CLRO','CLWR','CLWRD','CBLI','CKSW','CSBK','CLDA','CME','CMSB','CCNE','CISG','COBZ','COBR','COKE','CVLY','CCOI','CGNX','CTSH','COHR','COHU','CSTR','CWTR','CCIX','CLCT','COBK','CBAN','COLB','COLM','CMCO','CMRO','CBMX','CRXX','CMCSK','CMCSA','CCBP','CBSH','CMFB','CNAF','CVGI','CWBS','CTCH','JCS','CBON','CBNJ','CBIN','CPBK','CCBD','CFFC','CPBC','CSHB','CTBI','CWBC','CVLT','CODI','CCRT','CGEN','CPSI','CTGX','CPWR','SCOR','CHCI','CITP','COGO','CMTL','COMV','CPTS','CNQR','CNXT','CNMD','CTWS','CONN','CNLG','CNLGD','CNSL','CWCO','CTCT','CNST','CPSS','CNVR','COINZ','COOP','CPNO','CPRT','CNIC','CORT','CORE','CREL','CRGI','COCO','CRTX','CRVL','COSI','CPWM','CSGP','COST','CGRB','CRRC','CVTI','COWN','CWLZ','CPEX','CPII','CRAI','CRAY','CACC','CRED','CREE','CSNT','CRFN','CRESY','CRMH','CROX','ATX','CCRN','XTXI','XTEX','CRWS','CRWN','CRXL','CRYP','CSGS','CSPI','CTCM','CTIB','CTRP','CMLS','CRGN','CRIS','CUTR','CVTX','CVBF','CVV','CYAN','CYBX','CYBE','CYBS','CYBI','CYCC','CYMI','CYNO','CYPB','CYTK','CYTX','CYTR']
}

const letters = Object.keys(symbols)
for (const letter of letters) {
  await fillTable(symbols[letter]);
}
  
</script>
</body>
</html>
